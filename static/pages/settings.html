<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title data-app-name-template="Extension Settings â€¢ {{appName}}">Extension Settings</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../styles/settings.css" />
  </head>
  <body>
    <header class="settings__header">
      <div class="settings__header-brand">
        <img
          src="../assets/icons/icon48.png"
          width="40"
          height="40"
          alt=""
          data-app-name-attr="alt"
          data-app-name-template="{{appName}} icon"
        />
        <div>
          <h1 class="settings__title">Extension Settings</h1>
        </div>
      </div>
      </header>
    <main class="settings__main" role="main">
      <section class="settings__card">
        <header class="settings__card-header">
          <h2 class="settings__card-title">Account</h2>
          <p class="settings__card-subtitle">Manage your account and subscription.</p>
        </header>

        <div class="settings__auth-section">
          <!-- User Profile (when authenticated) -->
          <div id="userProfile" class="settings__user-profile" hidden>
            <div class="settings__user-avatar">
              <img class="js-user-avatar-picture settings__user-avatar-img" hidden />
              <span class="js-user-avatar settings__user-avatar-text" hidden></span>
            </div>
            <div class="settings__user-info">
              <div class="settings__user-name-container">
                <span class="js-user-name settings__user-name"></span>
                <span class="js-user-subscription-status settings__user-subscription-status"></span>
              </div>
            </div>
          </div>

          <!-- Authentication Actions -->
          <div class="settings__auth-actions">
            <button type="button" id="loginButton" class="settings__button settings__button--primary">
              Sign In
            </button>
            <button type="button" id="manageSubscription" class="settings__button settings__button--secondary" hidden>
              Manage subscription
            </button>
            <button type="button" id="logoutButton" class="settings__button settings__button--ghost" hidden>
              Sign Out
            </button>
          </div>

          <!-- Authentication Status -->
          <p id="authStatus" class="settings__status" role="status" aria-live="polite" hidden></p>
        </div>
      </section>

      <section class="settings__card">
        <header class="settings__card-header">
          <h2 class="settings__card-title">AI Pre-processing</h2>
        </header>
        <form id="settingsForm" class="settings__form" novalidate>

          <label class="settings__field settings__field--toggle" for="enableTranslation">
            <span class="settings__field-label">Enable translation</span>
            <span class="settings__toggle">
              <input
                id="enableTranslation"
                name="enableTranslation"
                type="checkbox"
                class="settings__toggle-input"
                role="switch"
                aria-checked="false"
              />
              <span class="settings__toggle-track" aria-hidden="true">
                <span class="settings__toggle-thumb"></span>
              </span>
            </span>
          </label>
          <label class="settings__field" for="targetLanguage">
            <span class="settings__field-label">Target language</span>
            <select
              id="targetLanguage"
              name="targetLanguage"
              class="settings__select"
            >
            </select>
          </label>
          <p class="settings__hint">When "Enable translation" is checked, translation output will use the selected language. Otherwise, translation is disabled.</p>
          <label class="settings__field settings__field--slider" for="summarizationLevel">
            <span class="settings__field-label">Summarization level</span>
            <input
              id="summarizationLevel"
              name="summarizationLevel"
              type="range"
              min="0"
              max="2"
              step="1"
              class="settings__slider"
            />
            <div class="settings__slider-ticks" aria-hidden="true">
              <span class="settings__slider-tick">
                <span class="settings__slider-tick-icon">ðŸ“š</span>
                <span class="settings__slider-tick-label">No summarization</span>
              </span>
              <span class="settings__slider-tick">
                <span class="settings__slider-tick-icon">ðŸ“„</span>
                <span class="settings__slider-tick-label">Moderate</span>
              </span>
              <span class="settings__slider-tick">
                <span class="settings__slider-tick-icon">ðŸ’¬</span>
                <span class="settings__slider-tick-label">Significant</span>
              </span>
            </div>
            <span id="summarizationLabel" class="settings__slider-value" aria-live="polite"></span>
          </label>
          <p class="settings__hint">Adjust how much the AI condenses text while translating. No summarization keeps content verbatim, moderate halves each paragraph, significant extracts only key takeaways.</p>
          <p id="settingsStatus" class="settings__status" role="status" aria-live="polite" hidden></p>
        </form>
      </section>
    </main>
    <footer class="settings__footer">
      <a
        id="privacyPolicyLink"
        class="settings__footer-link"
        data-privacy-policy-link
        rel="noreferrer"
        target="_blank"
      >Check Privacy Policy</a>
      <p class="settings__footer-note">Disclaimer: Pre-processing AI can make mistakes. Check important info.</p>
      <p class="settings__footer-note">Extension provided by "Path2Dream" company registered in Netherlands. Contact info: developer@petprojectcofounder.ai</p>
    </footer>
    <script type="module" src="../scripts/settings.js"></script>
  </body>
</html>
