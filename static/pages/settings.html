<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title data-app-name-template="Extension Settings ‚Ä¢ {{appName}}">Extension Settings</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../styles/settings.css" />
  </head>
  <body>
    <header class="settings__header">
      <div class="settings__header-brand">
        <img
          src="../assets/illustrations/welcome-hamster.webp"
          class="settings__logo"
          alt=""
          data-app-name-attr="alt"
          data-app-name-template="{{appName}} icon"
        />
        <div>
          <h1 class="settings__title">Extension Settings</h1>
        </div>
      </div>
      </header>
    <main class="settings__main" role="main">
      <section class="settings__card">
        <header class="settings__card-header">
          <h2 class="settings__card-title">Account</h2>
          <p class="settings__card-subtitle">Manage your account and subscription.</p>
        </header>

        <div class="settings__auth-section">
          <!-- User Profile (when authenticated) -->
          <div id="userProfile" class="settings__user-profile" hidden>
            <div class="settings__user-avatar">
              <img class="js-user-avatar-picture settings__user-avatar-img" hidden />
              <span class="js-user-avatar settings__user-avatar-text" hidden></span>
            </div>
            <div class="settings__user-info">
              <div class="settings__user-name-container">
                <span class="js-user-name settings__user-name"></span>
                <span class="js-user-subscription-status settings__user-subscription-status"></span>
              </div>
            </div>
          </div>

          <!-- Authentication Actions -->
          <div class="settings__auth-actions">
            <button type="button" id="loginButton" class="settings__button settings__button--primary">
              Sign In
            </button>
            <button type="button" id="manageSubscription" class="settings__button settings__button--secondary" hidden>
              Manage subscription
            </button>
            <button type="button" id="logoutButton" class="settings__button settings__button--ghost" hidden>
              Sign Out
            </button>
          </div>

          <!-- Authentication Status -->
          <p id="authStatus" class="settings__status" role="status" aria-live="polite" hidden></p>
        </div>
      </section>

      <section class="settings__card settings__card--stats" data-usage-stats-card>
        <header class="settings__card-header">
          <div class="settings__card-title-row">
            <h2 class="settings__card-title">Reading statistics</h2>
            <div class="settings__info" data-usage-info>
              <button
                type="button"
                class="settings__info-trigger"
                aria-label="How are reading statistics calculated?"
                aria-describedby="usageStatsInfoTooltip"
                data-usage-info-trigger
              >
                <span aria-hidden="true">i</span>
              </button>
              <div
                id="usageStatsInfoTooltip"
                class="settings__info-tooltip"
                role="tooltip"
                data-usage-info-tooltip
              ></div>
            </div>
          </div>
          <p class="settings__card-subtitle">Track your progress and the time you save.</p>
        </header>
        <div class="settings__stats-grid">
          <article class="settings__stat">
            <span class="settings__stat-icon" aria-hidden="true">üìÖ</span>
            <div class="settings__stat-content">
              <p class="settings__stat-label">You are using extension for</p>
              <p class="settings__stat-value"><span data-usage-hours>‚Äî</span></p>
            </div>
          </article>
          <article class="settings__stat">
            <span class="settings__stat-icon" aria-hidden="true">üî§</span>
            <div class="settings__stat-content">
              <p class="settings__stat-label">You have read</p>
              <p class="settings__stat-value"><span data-usage-words>‚Äî</span></p>
            </div>
          </article>
          <article class="settings__stat">
            <span class="settings__stat-icon" aria-hidden="true">‚è≥</span>
            <div class="settings__stat-content">
              <p class="settings__stat-label">It would take</p>
              <p class="settings__stat-value"><span data-usage-without-extension>00:00:00</span></p>
              <p class="settings__stat-note">to read it without the extension.</p>
            </div>
          </article>
          <article class="settings__stat">
            <span class="settings__stat-icon" aria-hidden="true">‚ö°</span>
            <div class="settings__stat-content">
              <p class="settings__stat-label">But you finished in</p>
              <p class="settings__stat-value"><span data-usage-with-extension>00:00:00</span></p>
            </div>
          </article>
          <article class="settings__stat settings__stat--wide">
            <span class="settings__stat-icon" aria-hidden="true">üöÄ</span>
            <div class="settings__stat-content">
              <p class="settings__stat-label">You are</p>
              <p class="settings__stat-value"><span data-usage-reader-level>‚Äî</span></p>
              <p class="settings__stat-note">Based on original vs. Sprint Reader timing.</p>
            </div>
          </article>
        </div>
      </section>

      <section class="settings__card settings__card--ai" data-ai-card>
        <header class="settings__card-header">
          <h2 class="settings__card-title">AI Pre-processing</h2>
        </header>
        <div class="settings__ai-body" data-ai-body>
          <form id="settingsForm" class="settings__form" novalidate>

          <label class="settings__field settings__field--toggle" for="enableTranslation">
            <span class="settings__field-label">Enable translation</span>
            <span class="settings__toggle">
              <input
                id="enableTranslation"
                name="enableTranslation"
                type="checkbox"
                class="settings__toggle-input"
                role="switch"
                aria-checked="false"
              />
              <span class="settings__toggle-track" aria-hidden="true">
                <span class="settings__toggle-thumb"></span>
              </span>
            </span>
          </label>
          <label class="settings__field" for="targetLanguage">
            <span class="settings__field-label">Your native language</span>
            <select
              id="targetLanguage"
              name="targetLanguage"
              class="settings__select"
            >
            </select>
          </label>
          <label class="settings__field settings__field--slider" for="summarizationLevel">
            <div class="settings__summarization-label-container">
              <span class="settings__field-label">Summarization level: </span>
              <span id="summarizationLabel" class="settings__slider-value" aria-live="polite"></span>
            </div>
            <input
              id="summarizationLevel"
              name="summarizationLevel"
              type="range"
              min="0"
              max="2"
              step="1"
              class="settings__slider"
            />
            <div class="settings__slider-ticks" aria-hidden="true">
              <span class="settings__slider-tick">
                <span class="settings__slider-tick-icon">üìö</span>
                <span class="settings__slider-tick-label">No summarization</span>
              </span>
              <span class="settings__slider-tick">
                <span class="settings__slider-tick-icon">üìÑ</span>
                <span class="settings__slider-tick-label">Moderate</span>
              </span>
              <span class="settings__slider-tick">
                <span class="settings__slider-tick-icon">üí¨</span>
                <span class="settings__slider-tick-label">Significant</span>
              </span>
            </div>
          </label>
          <p id="settingsStatus" class="settings__status" role="status" aria-live="polite" hidden></p>
          </form>
        </div>
        <div
          id="aiPreprocessingUpsell"
          class="settings__ai-lock"
          data-ai-cta
          hidden
        >
          <div class="settings__ai-lock-content">
            <p class="settings__ai-lock-title" data-ai-cta-title>You are on '2x reader' plan now</p>
            <button
              type="button"
              class="settings__ai-lock-button"
              data-ai-cta-button
            >
              Become 10x Reader
            </button>
            <p class="settings__ai-lock-title" data-ai-cta-subtitle>To enable<br>ai pre-processing</p>
          </div>
        </div>
      </section>
    </main>
    <footer class="settings__footer">
      <div class="settings__footer-links">
        <a
          id="privacyPolicyLink"
          class="settings__footer-link"
          data-privacy-policy-link
          rel="noreferrer"
          target="_blank"
        >Read Privacy Policy</a>
        <a
          id="acknowledgementsLink"
          class="settings__footer-link"
          rel="noreferrer"
          target="_blank"
        >Read acknowledgements and license</a>
      </div>
      <p class="settings__footer-note">Pre-processing AI can make mistakes. Check important info.</p>
        <p class="settings__footer-note">Developed by "Path2Dream". Contact info: ${CONTACT_EMAIL}</p>
    </footer>
    <script type="module" src="../scripts/settings.js"></script>
  </body>
</html>
