# Story 1.1: Stricter TypeScript & ESLint Baseline

## Status
Draft

## Story
**As a** developer maintaining the Sprint Reader extension,
**I want** stricter TypeScript configuration enabled and an ESLint baseline established with an initial ignore list,
**so that** we have stronger type safety while being able to introduce stricter lint rules incrementally without breaking the existing codebase.

## Acceptance Criteria
1. TypeScript configuration in `tsconfig.json` includes stricter checks (`noImplicitAny`, `strictNullChecks`, `noUnusedLocals`).
2. All existing type errors revealed by stricter configuration are resolved.
3. ESLint configuration adds the new rule set agreed for Phase 0 and `.eslintignore` enumerates all existing source files so the current baseline passes.
4. Verification commands succeed: `npm run lint`, `npm run typecheck`, and `npm test`.

## Tasks / Subtasks
- [ ] Modify `tsconfig.json` to enable stricter TypeScript checks (AC: 1)
  - [ ] Add `noImplicitAny: true`
  - [ ] Add `strictNullChecks: true`
  - [ ] Add `noUnusedLocals: true`
  - [ ] Add other relevant strict flags as appropriate
- [ ] Run `npm run typecheck` to identify existing type issues (AC: 2)
- [ ] Fix all type errors that arise from stricter configuration (AC: 2)
  - [ ] Address implicit any types
  - [ ] Handle null/undefined checks
  - [ ] Remove unused local variables
- [ ] Update ESLint configuration with new rules (AC: 3)
  - [ ] Amend `.eslintrc.*` to enable the agreed lint ruleset
  - [ ] Create or update `.eslintignore` to list all existing `src/**`, `tests/**`, and other relevant files so current violations remain quarantined
  - [ ] Document the ignore baseline in `docs/refactoring/new_architecture.md` if additional context is needed
- [ ] Verify all checks pass after changes (AC: 4)
  - [ ] Run `npm run lint` to ensure the new configuration executes successfully
  - [ ] Run `npm run typecheck`
  - [ ] Run `npm test`

## Dev Notes

### Architecture Context
This story establishes the foundation for safe refactoring by implementing stricter TypeScript configuration and introducing the ESLint baseline with temporary ignores as outlined in the refactoring plan Phase 0, Step 0.1.

[Source: docs/refactoring/refactoring_plan.md#phase-0-preparation-and-tooling]

### Technical Requirements
- Must maintain all existing functionality during this change
- No behavioral changes should occur - this is purely a developer experience and code quality improvement
- The extension must continue to build and function identically after the changes
- ESLint baseline is introduced without failing the existing code thanks to the comprehensive `.eslintignore`

### Testing Standards
- All existing Playwright tests must continue to pass
- Use existing test command: `npm test`
- Use existing type checking: `npm run typecheck`
- Use existing linting: `npm run lint`

### Linting Strategy
- Introduce the new lint ruleset but quarantine current violations by listing every existing file in `.eslintignore`.
- Document the ignore baseline so subsequent stories know which entries must be removed as they refactor files.
- Whenever you modify one of the ignored files, remove it from the ignore list and resolve any violations so that the updated code complies with the stricter rules.

### Critical Success Criteria
After completion, the codebase must have:
- Zero TypeScript compilation errors
- Zero test failures
- Identical runtime behavior to before the changes
- Stronger type safety foundation for subsequent refactoring phases

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-09-25 | 1.0 | Initial story creation | Scrum Master |
| 2025-09-26 | 1.1 | Updated scope to cover ESLint baseline with temporary ignore list | Scrum Team |

## Dev Agent Record
*This section will be populated by the development agent during implementation*

## QA Results
*This section will be populated by the QA agent after implementation review*
