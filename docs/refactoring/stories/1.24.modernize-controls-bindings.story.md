# Story 1.24: Modernize Controls Bindings (Replace legacy controls.ts)

## Status
Planned

## Story
As a developer standardizing UI inputs,
I want a modern `src/reader/ui/controls.ts` that binds events to store/PlaybackService only,
so that legacy `controls.ts` is removed and UI wiring is consistent.

## Acceptance Criteria
1. New `src/reader/ui/controls.ts` exposes explicit bind functions for all controls (click, keyboard, slider).
2. Handlers dispatch only to store actions and PlaybackService methods.
3. `src/reader/index.ts` initializes the new controls module (no `store-controls.ts` bridging).
4. No references to `src/reader/controls.ts`; file is deleted.
5. All controls work: play/pause/restart, WPM slider, theme toggle, shortcuts.
6. Lint, typecheck, unit, and Playwright tests all pass.

## Tasks / Subtasks
- [ ] Implement controls module
  - [ ] Create `src/reader/ui/controls.ts` with clear binding API
  - [ ] Wire to `PlaybackService` and store actions (no DOM writes)
- [ ] Replace legacy wiring
  - [ ] Update `src/reader/index.ts` to use new controls module
  - [ ] Remove `src/reader/ui/store-controls.ts` if it becomes redundant
- [ ] Delete legacy file(s)
  - [ ] Confirm zero references to `src/reader/controls.ts`
  - [ ] Delete `src/reader/controls.ts` and clean imports
- [ ] Tests and quality gates
  - [ ] Add minimal unit tests for event→action mapping (Vitest + JSDOM)
  - [ ] Run `npm run lint`
  - [ ] Run `npm run typecheck`
  - [ ] Run `npm test` and manual control interaction checks

## Dev Notes
### Architecture Context
Implements Phase D (Controls Modernization) from `docs/refactoring/legacy_removal_plan.md`.

### Risks & Mitigations
- Missed handlers → Cross-check legacy controls for parity; verify keyboard shortcuts.

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-09-26 | 1.0 | Initial story draft | Team |

